{
  "title": "Download Card - Auto-Select Tab + Static Instructions",
  "description": "Extract static instructions from PWA cards and use auto-detection to select correct tab",

  "goal": {
    "keep_auto_detection": "Automatically select the right tab when user expands card based on their device",
    "show_all_instructions": "Display instructions for ALL platforms regardless of user's device"
  },

  "implementation_plan": {
    "step_1": {
      "action": "Extract instructions from existing PWA cards",
      "sources": [
        {
          "component": "PWAInstallCardMobile",
          "extract": [
            "iOS instructions (lines 85-96)",
            "Android instructions (lines 109-120)",
            "Browser recommendations and notes"
          ]
        },
        {
          "component": "PWAInstallCardDesktop",
          "extract": [
            "PC/Desktop instructions (lines 106-139)",
            "Browser-specific guidance",
            "Install button logic (optional)"
          ]
        }
      ]
    },

    "step_2": {
      "action": "Update DownloadCard component",
      "file": "components/info-cards/download-card.tsx",
      "changes": [
        {
          "add": "Device detection useEffect",
          "code_pattern": [
            "useEffect(() => {",
            "  if (typeof window !== 'undefined') {",
            "    const userAgent = window.navigator.userAgent;",
            "    ",
            "    if (/iPhone|iPod|iPad/.test(userAgent)) {",
            "      setActiveTab('ios');",
            "    } else if (/Android/.test(userAgent)) {",
            "      setActiveTab('android');",
            "    } else {",
            "      setActiveTab('pc');",
            "    }",
            "  }",
            "}, []);"
          ],
          "purpose": "Auto-select appropriate tab based on user's device"
        },
        {
          "remove": [
            "import { PWAInstallCardDesktop }",
            "import { PWAInstallCardMobile }"
          ],
          "reason": "Replace with static instruction components"
        },
        {
          "add": "Static instruction components for each tab",
          "structure": [
            "iOS Tab: Static instructions extracted from PWAInstallCardMobile",
            "Android Tab: Static instructions extracted from PWAInstallCardMobile",
            "PC Tab: Static instructions extracted from PWAInstallCardDesktop"
          ]
        }
      ]
    }
  },

  "tab_content": {
    "ios_tab": {
      "title": "Install on iOS (Safari)",
      "instructions": [
        "1. Open this page in Safari (required for PWA installation)",
        "2. Tap the Share button (⬆️) at the bottom",
        "3. Scroll down and tap 'Add to Home Screen'",
        "4. Tap 'Add' to confirm",
        "5. App will open without Safari UI"
      ],
      "note": "Chrome on iOS only creates bookmarks, not standalone apps. Use Safari for best experience.",
      "source": "PWAInstallCardMobile lines 85-96"
    },
    "android_tab": {
      "title": "Install on Android (Chrome)",
      "instructions": [
        "1. Open this page in Chrome (recommended)",
        "2. Tap the menu (⋮) in top right",
        "3. Tap 'Add to Home screen' or 'Install app'",
        "4. Tap 'Add' or 'Install' to confirm",
        "5. App icon will appear on your home screen"
      ],
      "note": "Works best in Chrome for standalone app experience.",
      "source": "PWAInstallCardMobile lines 109-120"
    },
    "pc_tab": {
      "title": "Install on Desktop (Windows/Mac/Linux)",
      "instructions": [
        "1. Open this page in Chrome or Edge",
        "2. Look for install icon (⊞) in address bar, OR",
        "3. Click browser menu → 'Install [app name]', OR",
        "4. Click 'Install' button below if available"
      ],
      "note": "Firefox and Safari have limited PWA support. Use Chrome or Edge for best experience.",
      "optional": "Add install button that triggers browser's install prompt (if available)",
      "source": "PWAInstallCardDesktop lines 106-139"
    }
  },

  "auto_detection_behavior": {
    "iphone_user": {
      "expands_card": "iOS tab is automatically selected",
      "can_switch": "User can manually switch to Android or PC tabs to see those instructions"
    },
    "android_user": {
      "expands_card": "Android tab is automatically selected",
      "can_switch": "User can manually switch to iOS or PC tabs to see those instructions"
    },
    "pc_user": {
      "expands_card": "PC tab is automatically selected",
      "can_switch": "User can manually switch to iOS or Android tabs to see those instructions"
    }
  },

  "benefits": [
    "Auto-detection shows user their relevant platform first",
    "All instructions visible on any device (no hiding based on device)",
    "Users can prepare for installation on another device",
    "No dependency on complex auto-detection logic for content display",
    "Cleaner, more predictable UX",
    "Static content is easier to maintain and update"
  ],

  "execution_result": {
    "user_on_iphone_expands": "iOS tab auto-selected ✅",
    "user_on_android_expands": "Android tab auto-selected ✅",
    "user_on_pc_expands": "PC tab auto-selected ✅",
    "all_tabs_show_instructions": "Regardless of device ✅",
    "manual_tab_switching": "User can switch to see other platforms ✅"
  }
}
